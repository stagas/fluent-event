<h1 align="center">fluent-event</h1>

<p align="center">
fluent dom event toolkit
</p>

<p align="center">
   <a href="#install">        🔧 <strong>Install</strong></a>
 · <a href="#example">        🧩 <strong>Example</strong></a>
 · <a href="#api">            📜 <strong>API docs</strong></a>
 · <a href="https://github.com/stagas/fluent-event/releases"> 🔥 <strong>Releases</strong></a>
 · <a href="#contribute">     💪🏼 <strong>Contribute</strong></a>
 · <a href="https://github.com/stagas/fluent-event/issues">   🖐️ <strong>Help</strong></a>
</p>

***

## Install

```sh
$ npm i fluent-event
```

Several utilities for dealing with DOM events.
**Typed** and also **tree-shakeable** so you only include what you use.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

*   [debounce](#debounce)
*   [event](#event)
*   [on](#on)
*   [off](#off)
    *   [Parameters](#parameters)
*   [queue](#queue)
    *   [raf](#raf)
    *   [time](#time)
    *   [task](#task)

### debounce

[src/debounce.ts:21-44](https://github.com/stagas/fluent-event/blob/b381a3c6ece1752b8fd6589cb0a1b566b1055169/src/debounce.ts#L21-L44 "Source code on GitHub")

Decorate function `fn` with debounce delay `ms`.

Flags: `first` => run `fn` first, then debounce

```ts
fn = (x: number) => console.log(x)
// => runs `fn` after 100ms following last call
cb = debounce(fn, 100)
cb(1)
cb(2) // <- cb(2) wins, prints `2`

// => runs `fn` first then debounces until 100ms of inactivity
cb = debounce.first(fn, 100)
cb(1) // <- cb(1) wins, prints `1`
cb(2)
```

### event

[src/event.ts:23-33](https://github.com/stagas/fluent-event/blob/b381a3c6ece1752b8fd6589cb0a1b566b1055169/src/event.ts#L23-L33 "Source code on GitHub")

Decorates event listener `fn`.

Flags:

*   `prevent` => `event.preventDefault()`
*   `stop` => `event.stopPropagation()`
*   `stop.immediate` => `event.stopImmediatePropagation()`

```ts
btn.onclick = event(fn)
btn.onclick = event.prevent(fn)
btn.onclick = event.prevent.stop(fn)
btn.onclick = event.stop.immediate(fn)
```

### on

[src/on.ts:40-48](https://github.com/stagas/fluent-event/blob/b381a3c6ece1752b8fd6589cb0a1b566b1055169/src/on.ts#L40-L48 "Source code on GitHub")

Adds a DOM event `listener` to an event `type` using `options` and returns its remover.

Flags: `active` | `capture` | `once` | `passive`

```ts
on(btn, 'click', fn)
on.once(btn, 'click', fn)
on.passive(div, 'wheel', fn)

const off = on.passive.capture(btn, 'wheel', fn)
// ...later...
off() // remove listener
```

### off

[src/on.ts:53-58](https://github.com/stagas/fluent-event/blob/b381a3c6ece1752b8fd6589cb0a1b566b1055169/src/on.ts#L53-L58 "Source code on GitHub")

Removes an event `listener` of type `type` from `el` using `options`.

#### Parameters

*   `el` **T**&#x20;
*   `type` **K**&#x20;
*   `listener` **function (ev: any): any**&#x20;
*   `options` **([boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean) | AddEventListenerOptions)?**&#x20;

### queue

[src/queue.ts:38-60](https://github.com/stagas/fluent-event/blob/b381a3c6ece1752b8fd6589cb0a1b566b1055169/src/queue.ts#L38-L60 "Source code on GitHub")

Queue.

All queue functions are also throttled to once per invocation.

#### raf

[src/queue.ts:45-45](https://github.com/stagas/fluent-event/blob/b381a3c6ece1752b8fd6589cb0a1b566b1055169/src/queue.ts#L45-L45 "Source code on GitHub")

Decorate function with `requestAnimationFrame`.

```ts
queue.raf(cb)
```

#### time

[src/queue.ts:52-52](https://github.com/stagas/fluent-event/blob/b381a3c6ece1752b8fd6589cb0a1b566b1055169/src/queue.ts#L52-L52 "Source code on GitHub")

Decorate function with `setTimeout`.

```ts
queue.time(cb)
```

#### task

[src/queue.ts:59-59](https://github.com/stagas/fluent-event/blob/b381a3c6ece1752b8fd6589cb0a1b566b1055169/src/queue.ts#L59-L59 "Source code on GitHub")

Decorate function with `queueMicrotask`.

```ts
queue.task(cb)
```

## Contribute

[Fork](https://github.com/stagas/fluent-event/fork) or
[edit](https://github.dev/stagas/fluent-event) and submit a PR.

All contributions are welcome!

## License

MIT © 2022
[stagas](https://github.com/stagas)
